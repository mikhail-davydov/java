# Flyweight
## Определение
Flyweight — это структурный паттерн проектирования, который позволяет эффективно использовать объекты, разделяя их внутреннее состояние между множеством объектов, тем самым экономя память.

## Назначение
- Оптимизация использования памяти
- Разделение внутреннего и внешнего состояния объектов
- Создание большого количества объектов с общими характеристиками

## Компоненты паттерна
**Flyweight Interface/Abstract Class**
- Определяет интерфейс для объектов-flyweight
- Содержит методы для работы с внутренним состоянием

**Concrete Flyweight**
- Реализует интерфейс flyweight
- Хранит внутреннее состояние
- Предоставляет методы для работы с внешним состоянием

**Flyweight Factory**
- Создает и управляет объектами-flyweight
- Обеспечивает повторное использование объектов

**Unshared Concrete Flyweight**
- Необязательный компонент
- Хранит уникальное состояние

**Client**
- Использует объекты-flyweight
- Управляет внешним состоянием

## Преимущества
- Экономия памяти за счет разделения состояния
- Высокая производительность при работе с большими наборами данных
- Масштабируемость системы
- Эффективность использования ресурсов

## Недостатки
- Сложность реализации при неправильном разделении состояния
- Ограничения на изменение внутреннего состояния
- Возможные проблемы с синхронизацией
- Сложность отладки при ошибках в разделении состояния

## Когда использовать
- При работе с большими наборами однотипных объектов
- Когда необходимо оптимизировать использование памяти
- При наличии общих характеристик у объектов
- В случаях с ограниченными ресурсами

## Когда не использовать
- Для простых объектов без общих характеристик
- Когда состояние объекта полностью уникально
- При отсутствии проблем с памятью
- В случаях с малым количеством объектов

## Практические примеры использования
- Текстовые редакторы (символы, шрифты)
- Игровые движки (объекты с общими характеристиками)
- Графические редакторы (фигуры с общими свойствами)
- Системы моделирования (компоненты с общими параметрами)
- Финансовые системы (валюты, курсы)

## Интеграция с другими паттернами
- Хорошо сочетается с Фабричным методом для создания объектов
- Может использоваться совместно с Абстрактной фабрикой
- Совместим с Прокси для добавления дополнительного поведения
- Работает с Декоратором для расширения функциональности